# Домашнее задание №4. Знакомство с СУБД BaseX (модель: Native XML).
## Введение
Авторы презентуют свой продукт следующим образом:

BaseX является очень легковесной, высокопроизводительной и масштабируемой XML базой данных с XPath/XQuery 3.0 процессором, который имеет полную поддержку W3C Update и Full Text спецификаций. Интерактивный и дружественный графический интерфейс позволяет легко изучать ваши XML документы

На самом деле, BaseX — программный продукт с открытыми исходными кодами, написанный на Java, распространяемый под BSD лицензией. Из коробки мы получаем утилиту с графическим интерфейсом (управление, анализ, редактирование кода с подсветкой синтаксиса), сервер, клиент, веб-сервер.

## История развития СУБД.
BaseX — это свободная и открытая СУБД и XQuery/XPath-процессор, разработанная как часть дипломной работы Кристиана Грюн в Университете в Констанце в Германии. Разработку Кристиан начал в 2005 году, и первый релиз был сделан в 2007 году. С тех пор BaseX распространяется в открытых исходных текстах, проект продолжает развиваться и поддерживается сообществом и разработчиками из разных уголков мира.

## Инструменты для взаимодействия с СУБД.
BaseX предоставляет различные инструменты для взаимодействия с базой данных:
- Графический интерфейс пользователя (GUI), позволяющий выполнять запросы, просматривать базы данных и управлять настройками.
- Консольный клиент, который позволяет выполнять запросы и управлять базой данных из командной строки.
- RESTXQ и WebDAV сервер, позволяющие обращаться к данным и управлять ими через HTTP.
- Java API для интеграции с Java-приложениями.

## Хранилище.
BaseX является чистой документо-ориентированной базой данных без фиксированной структуры. Но команда BaseX разработала свое собственное хранилище, поэтому понятие базы данных тут немного необычное.

В BaseX базой данных называется папка, в которой хранятся некие ресурсы. Ресурсом может выступать как обыкновенный файл, так и XML-документ. Файлы хранятся в исходном виде в файловой системе, а XML-документы трансформируются во внутреннее представление. База может хранить как XML документы, так и прочие ресурсы одновременно. Такой способ хранения данных позволяет легко переносить базы простым копированием.

Привычные для реляционной модели таблицы отсутствуют как класс впринципе, но зато есть XML-документы и их коллекции.

## Database engine.
BaseX использует собственный "движок" для хранения и обработки XML данных. Он оптимизирован для больших объемов XML данных и поддерживает эффективные структуры данных, такие как Tableaux и индексы, для ускорения обработки запросов.

## Язык запросов.
BaseX использует XQuery — язык запросов для XML, который позволяет формулировать сложные запросы к документам XML. 

Также в BaseX используется технология xPath, которая помогает писать чистый и лаконичный код. XPath используется и в формировании первичных выборок, и как аналог JOIN'ов из мира SQL.

Вот примеры запросов:
- Создание БД:
```
create db mipt_db
```
- Вставка данных:
```
let $data := <items>
  <item id="1">Apple</item>
  <item id="2">Banana</item>
  <item id="3">Cherry</item>
</items>
return insert node $data into root()
```
- Добавление нового элемента:
```
let $newItem := <item id="4">Date</item>
return insert node $newItem into doc("mipt_db")/items
```
- Чтение данных:
```
doc("mipt_db")/items/item
```
- Изменение элемента:
```
replace value of node doc("mipt_db")/items/item[@id="2"] with "Blueberry"
```
- Удаление элемента:
```
delete node doc("mipt_db")/items/item[@id="1"]
```

После выполнения операций CRUD, если вы используете интерактивную сессию или скрипт, изменения автоматически сохраняются в вашей базе данных. В случае использования программных интерфейсов необходимо убедиться, что транзакции корректно завершены.

## Распределение файлов БД по разным носителям.
BaseX хранит данные в виде файла или набора файлов в каталоге, который указывается при создании базы данных. 
В BaseX не предусмотрено распределение данных по разным физическим носителям на уровне СУБД, но такое распределение возможно реализовать на уровне файловой системы или операционной системы.

## Язык программирования.
BaseX написан на языке Java, что делает его переносимым и позволяет легко интегрироваться с другими Java-приложениями.

## Типы индексов.
BaseX умеет индексировать структуру XML, атрибуты, текст, и даже делать полнотекстовый индекс. Но, основная проблема заключается в том, что один из типов индексов статичен, т.е. обновление данных приводит к инвалидации индекса, а второй, динамический, — медленный. Таким образом потери в скорости могут достигать порядка.

Причём база данных может иметь только один тип индекса (или статический, или динамический). И, например, чтобы поменять индекс, нужно сделать экспорт данных, создать базу с другим типом индекса, и импортировать данные заново.

То есть индексирование в BaseX есть, и оно может ускорить запросы на чтение на несколько порядков, но в этой СУБД оно довольно ограниченно и имеет свои особенности.

Вот пример создания полнотекстового индекса (который ускорит выполнение полнотекстовых запросов):
```
create index fulltext
```

## Процесс выполнения запросов.
В BaseX выполнение запроса начинается с парсинга и оптимизации, а затем, используя созданные индексы, выбирается наиболее эффективный план выполнения. После этого запрос выполняется и результат запроса возвращается пользователю.

## План запросов.
В BaseX есть такое понятие. План запросов позволяет посмотреть, как запрос будет исполнен на уровне "движка". Это помогает понять, какие операции будут выполнены и в каком порядке, что может быть полезно для оптимизации запросов.

## Транзакции
Транзакций в привычном нам виде в BaseX нет (нельзя конкретно прописать транзакцию и набор действий). Транзакцией считается команда сервера или выполняемый скрипт. Но в BaseX любые транзакции записи блокируют базу, поэтому скорость операций записи в BaseX не очень высокая. Но зато в чтении он проявляет себя достойно.

## Методы восстановления
BaseX поддерживает резервное копирование и восстановление баз данных. Это можно делать через GUI или с помощью командной строки. Кроме того, можно настроить автоматическое резервное копирование. 

Но есть интересная особенность, т.к. вся база данных хранится просто в отдельной папке, то всё резервное копирование представляет из себя создание zip-архива этой директории. Ну и восстановление, конечно, производится аналогично в обратном порядке.

## Шардинг
В BaseX шардинг не поддерживается.

## Data Mining, Data Warehousing и OLAP.
BaseX не специализируется на OLAP напрямую, но, тем не менее, так как BaseX работает с XML, у которого нет жесткой структуры, и использует XQuery в качестве языка запросов, это делает его довольно удобным инструментом для аналитики и Data Mining. Также вполне можно использовать BaseX для создания решений Data Warehousing, где XML данные часто используются для обмена и хранения сложноструктурированной информации.

## Методы защиты.
Из "штатных" методов защиты BaseX поддерживает аутенификацию пользователей и управление правами их доступа к разным базам данных, и SSL/TLS шифрование при передаче данных.

Но, т.к. все данные в BaseX хранятся просто в виде файлов в конкретной папке, неплохо было бы задуматься над шифрованием данных на диске. Но таких инструментов в BaseX нет, поэтому при желании это можно пытаться делать на уровне файловой системы различными внешними инструментами.

## Разработчики.
Сообщество разработчиков BaseX включает в себя разработчиков из различных университетов и частных компаний. Проект распространяется под лицензией BSD, что позволяет свободно использовать и модифицировать BaseX.

## Самостоятельное изучение языка.
BaseX предоставляет демонстрационные базы данных, которые можно использовать для изучения XQuery. Но также можно создать собственную демо-базу и экспериментировать с различными запросами, чтобы на опыте лучше понять строение и возможности языка.

## Документация и обучение.
Документацию BaseX можно найти на официальном [сайте проекта](https://basex.org). Там же доступны различные учебные ресурсы, включая руководства, примеры кода и FAQ.

## Актуальные новости и обновления.
Чтобы всегда быть в курсе происходящего, можно следить за проектом на сайте и официальном GitHub и подписаться на новостные рассылки проекта. Также можно присоединиться к сообществу пользователей и разработчиков, которое часто встречается на форумах и в группах социальных сетей.





